<div class="sheet-area flex-columns">
    <div class="area-box">

        <div class="sheet-headline sheet-banner splatFont" data-area="arcanoi">
            <span class="sheet-banner-text">{{localize "wod.power.arcanoi"}}</span>
        </div>

        {{#each (getMainPowerList actor "wod.types.arcanoi") as |item id|}}
            {{> "systems/worldofdarkness/templates/actor/parts/mainpower_list.html" mainpower=item config=../config actor=../actor locked=../locked}}
        {{/each}}        
    </div>
</div>

{{#if actor.system.listdata.powers.arcanois.hasunlistedarcanois}}
    <div class="sheet-area unsorted-area flex-columns">
        <div class="headlineNormal info-box">{{localize "wod.power.unsortedarcanois"}}</div>

        <div class="area-box">
            {{#each actor.system.listdata.powers.arcanois.unlistedarcanois as | item id|}}

                <div class="row">
                    <div class="pullLeft arcanoi-headline headlineNormal vrollable" 
                        data-type="{{../config.sheettype.mortal}}"
                        data-object="SortArcanoiPower"
                        data-rollitem="true"
                        data-itemid="{{item._id}}">{{item.name}}</div>
                    
                    {{#if (eq ../locked false)}}
                        <div class="pullLeft power-iconbox">
                            <a class="item-delete" title="{{localize 'wod.labels.remove.arcanoipower'}}" data-type="Arcanois" data-item-id="{{item._id}}"><i class="icon fa-solid fa-trash-can"></i></a>
                        </div>
                    {{/if}}                    
                </div>
            {{/each}}
        </div>
    </div>
{{/if}}

<div class="sheet-area flex-rows">
    <div class="two-columns flex-columns">
        <div class="area-box">
            <div class="clearareaBox sheet-headline sheet-banner splatFont" data-area="passions">
                <span class="sheet-banner-text">{{localize "wod.power.passions"}}</span>
            </div>
        </div>

        <div class="passion" data-area="passion">
            {{#each actor.system.listdata.traits.passions as |item id|}}
                <div class="item-row-area">
                    <div class="clearareaBox note-row">
                        <div class="pullLeft headlineNormal" style="width: 180px;">
                            {{#if (ne item.name "")}}
                                {{item.name}}
                            {{else}}
                                {{localize "wod.notes.unnamedpassion"}}
                            {{/if}}
                        </div>

                        <div class="resource-value pullLeft power-dotBox" 
                            data-value="{{item.system.value}}" 
                            data-itemid="{{item._id}}">

                            {{#numLoop item.system.max}}                            
                                <span class="resource-value-step" data-type="{{../../config.sheettype.mortal}}" data-index="{{this}}"></span>                            
                            {{/numLoop}}
                        </div>

                        <div class="pullLeft">
                            <div class="pullLeft">
                                <a class="send-chat" 
                                    title="{{localize 'wod.labels.send'}}"
                                    data-itemid="{{item._id}}"><i class="icon fa-solid fa-comment-dots"></i></a>
                            </div>
                            {{#if (eq ../locked false)}}
                                <div class="pullLeft pointer">
                                    <a class="item-edit" title="{{localize 'wod.labels.edit.passion'}}" data-type="Feature" data-item-id="{{item._id}}"><i class="icon fa-solid fa-pen-to-square"></i></a>
                                </div>
                                <div class="pullLeft pointer">
                                    <a class="item-delete" title="{{localize 'wod.labels.remove.passion'}}" data-type="Feature" data-item-id="{{item._id}}"><i class="icon fa-solid fa-trash-can"></i></a>
                                </div>
                            {{/if}}
                            
                        </div>
                    </div>
                </div> 
            {{/each}}
        </div>
    </div>
    <div class="two-columns flex-columns">
        <div class="area-box">
            <div class="clearareaBox sheet-headline sheet-banner splatFont" data-area="fetters">
                <span class="sheet-banner-text">{{localize "wod.power.fetters"}}</span>
            </div>
        </div>
    
        <div class="fetter" data-area="fetter">
            {{#each actor.system.listdata.traits.fetters as |item id|}}
                <div class="item-row-area">
                    <div class="clearareaBox note-row">
                        <div class="pullLeft headlineNormal" style="width: 180px;">
                            {{#if (ne item.name "")}}
                                {{item.name}}
                            {{else}}
                                {{localize "wod.notes.unnamedfetter"}}
                            {{/if}}
                        </div>

                        <div class="resource-value pullLeft power-dotBox" 
                            data-value="{{item.system.value}}" 
                            data-itemid="{{item._id}}">

                            {{#numLoop item.system.max}}                            
                                <span class="resource-value-step" data-type="{{../../config.sheettype.mortal}}" data-index="{{this}}"></span>                            
                            {{/numLoop}}
                        </div>
    
                        <div class="pullLeft">
                            <div class="pullLeft">
                                <a class="send-chat" 
                                    title="{{localize 'wod.labels.send'}}"
                                    data-itemid="{{item._id}}"><i class="icon fa-solid fa-comment-dots"></i></a>
                            </div>
                            {{#if (eq ../locked false)}}
                                <div class="pullLeft pointer">
                                    <a class="item-edit" title="{{localize 'wod.labels.edit.fetter'}}" data-type="Feature" data-item-id="{{item._id}}"><i class="icon fa-solid fa-pen-to-square"></i></a>
                                </div>
                                <div class="pullLeft pointer">
                                    <a class="item-delete" title="{{localize 'wod.labels.remove.fetter'}}" data-type="Feature" data-item-id="{{item._id}}"><i class="icon fa-solid fa-trash-can"></i></a>
                                </div>
                            {{/if}}
                            
                        </div>
                    </div>
                </div> 
            {{/each}}
        </div>
    </div>
</div>
